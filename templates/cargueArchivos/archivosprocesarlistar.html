{% extends "base/base.html" %}
{% load staticfiles %}

{% block title %}
    Procesar  Archivos
{% endblock %}

{% block titulo %}
	Procesar  Archivos
{% endblock %}
{% block header%}
{% endblock %}

{% block content %}
	<div class="m-portlet" id="seccionIdPrincipal">
		<div class="m-portlet__head">
			<div class="m-portlet__head-caption">
				<div class="m-portlet__head">
			        <div class="m-portlet__head-caption">
			            <div class="m-portlet__head-title">
			                <h3 class="m-portlet__head-text">
			                    Listado De Archivos Procesados
			                </h3>
			            </div>
			        </div>
			        <div class="m-portlet__head-tools">
			            <ul class="m-portlet__nav">
			                <li class="m-portlet__nav-item">
			                    <a href="{% url 'archivosprocersadoscrear' %}" class="btn btn-outline-success m-btn m-btn--custom m-btn--icon m-btn--pill m-btn--air">
			                        <span>
			                            <i class="la la-plus"></i>
			                            <span>Nuevo Archivo</span>
			                        </span>
			                    </a>
			                </li>
			            </ul>
			        </div>
			    </div>
			</div>
		</div>
		<div class="m-portlet__body">
			<!--begin::Section-->
			<div class="m-section">
				<div class="m-section__content">
					{% if object_list %}
						<div class="table-responsive">
							<table class="table table-bordered">
							    <thead>
							      <tr>
							        <th>Nombre Tipo Carge</th>
							        <th>Archivo</th>
							        <th>Estado</th>
							        <th>Observaciones</th>
							        <th>Opciones</th>
							      </tr>
							    </thead>
							    <tbody>
							    	{% for tipo in object_list %}
								      	<tr>
									        <td>{{ tipo.archivocargueprocesararchivotipocargue  }}</td>
									        <td>{{ tipo.archivocargueprocesararchivo }}</td>
									        <input type="hidden" value="{% url 'preProcesar' %}" id="id_archivoAprocesar_{{tipo.id}}">
									        <td style="text-align:center;">
									        	{% if tipo.archivocargueprocesarestado == True %}
													<a href="#!" title="Procesado"  class="btn btn-outline-success m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--outline-2x m-btn--pill m-btn--air">
														<i class="flaticon-like"></i>
													</a>
												{% else %}
													<div id="id_div_estado">
														<a href="#!" title="Pre -- procesar" id="btn_procesar" onclick="str_archivos.preProcesar({{tipo.id}})" class="btn btn-outline-danger m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--outline-2x m-btn--pill m-btn--air">
															<i class="flaticon-cogwheel-2"></i>
														</a>
														<div style="vertical-align:middle; display:none;" id="id_spiners">
								                            <div class="m-spinner m-spinner--brand m-spinner--lg"></div>
								                            <div class="m-spinner m-spinner--primary m-spinner--lg"></div>
								                            <div class="m-spinner m-spinner--success m-spinner--lg"></div>       
								                            <div class="m-spinner m-spinner--info m-spinner--lg"></div>
								                            <div class="m-spinner m-spinner--warning m-spinner--lg"></div>
								                            <div class="m-spinner m-spinner--danger m-spinner--lg"></div>   
								                        </div>
													</div>
									        	{% endif %}
									        </td>
									        <td>{{ tipo.archivocargueprocesararchivoobservacion }}</td>
									        <td style="text-align:center;">
										        <a href="{% url 'tipocargueseditar' tipo.id %}" class="btn btn-outline-accent m-btn m-btn--custom m-btn--icon m-btn--pill m-btn--air">
													<span>
														<i class="la la-pencil"></i>
														<span>Editar</span>
													</span>
												</a>
												<a href="{% url 'tipocarguesdelete' tipo.id %}" class="btn btn-outline-danger m-btn m-btn--custom m-btn--icon m-btn--pill m-btn--air">
													<span>
														<i class="la la-close"></i>
														<span>Eliminar</span>
													</span>
												</a>
									        </td>
								      	</tr>
							      	{% endfor %}
							    </tbody>
						  	</table>
						</div>
					{% else %}
						<div class="m-section__sub">
							Create responsive tipos
						</div>
					{% endif %}
				</div>
			</div>
			<!--end::Section-->
		</div>
		<!--end::Form-->
	</div>


	<div class="m-portlet" id="seccionIdSecundaria" style="display:none;">
		<div class="m-portlet__head">
			<div class="m-portlet__head-caption">
				<div class="m-portlet__head">
			        <div class="m-portlet__head-caption">
			            <div class="m-portlet__head-title">
			                <h3 class="m-portlet__head-text">
			                    Previa De Archivo Ejecutado
			                </h3>
			            </div>
			        </div>
			        <!-- <div class="m-portlet__head-tools">
			            <ul class="m-portlet__nav">
			                <li class="m-portlet__nav-item">
			                    <a href="{% url 'archivosprocersadoscrear' %}" class="btn btn-outline-success m-btn m-btn--custom m-btn--icon m-btn--pill m-btn--air">
			                        <span>
			                            <i class="la la-plus"></i>
			                            <span>Nuevo Archivo</span>
			                        </span>
			                    </a>
			                </li>
			            </ul>
			        </div> -->
			    </div>
			</div>
		</div>
		<div class="m-portlet__body">
			<!--begin::Section-->
			<div class="m-section">
				<div class="m-section__content">
					<div class="table-responsive">
						
						<table class="table table-bordered">
						  	<thead id="id_thead">
						  		<tr id="id_tr"></tr>
						  	</thead>
						  	<tbody id="id_tbody"></tbody>
						</table>
					</div>
				</div>
				<hr>
				<div class="m-portlet__foot m-portlet__foot--fit">
					<div class="m-form__actions m-form__actions">
						<div class="row">
							<div class="col-lg-6" id="btn_procesarFinal">
								
							</div>
							<div class="col-lg-6">
								<a href="{% url 'archivosprocesarlistar' %}" class="btn btn-danger m-btn m-btn--custom m-btn--icon m-btn--pill m-btn--air btn-block">Cancelar</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% block javascript %}
	<script src="{% static 'js/archivos/procesar.js' %}"></script>
{% endblock %}	

{% block footer %}
{% endblock %}
